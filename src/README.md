为了创建一个自动化流程，按顺序调用 `dbo-image-notes.py` 和 `autopub.py`， `main.py`脚本将负责：

1. 调用 `dbo-image-notes.py` 生成文案和图片处理
2. 等待文案生成完成
3. 调用 `autopub.py` 发布内容到小红书
4. 处理错误和日志记录

### 使用说明：

1. **基本用法**：
   ```bash
   python main.py
   ```

2. **带参数调用**：
   ```bash
   python main.py \
     --context "path/to/context.txt" \
     --max-size 1024 \
     --detail high \
     --publish-time "19:30"
   ```

### 参数说明：

1. **dbo-image-notes.py 相关参数**：
   - `--context`：上下文文件路径
   - `--max-size`：最大图像尺寸（像素）
   - `--detail`：图像精细度控制（low/high）

2. **autopub.py 相关参数**：
   - `--publish-time`：发布时间（格式：`YYYY-MM-DD HH:MM` 或 `HH:MM`）

### 功能特点：

1. **全自动化流程**：
   - 按顺序执行文案生成和内容发布
   - 自动处理两个脚本之间的依赖关系

2. **完善的日志系统**：
   - 控制台和文件双重日志输出
   - 详细记录每个步骤的执行情况
   - 错误信息完整记录

3. **错误处理**：
   - 文案生成失败时自动终止流程
   - 捕获并记录子进程的错误输出
   - 检查结果文件有效性

4. **参数传递**：
   - 支持将参数传递给两个子脚本
   - 保持各脚本原有的参数功能

5. **执行监控**：
   - 记录每个步骤的开始/结束时间
   - 捕获并显示子进程的输出
   - 返回码检查确保执行成功

这个自动化脚本将两个独立流程无缝连接，只需运行一次命令即可完成从内容生成到发布的整个工作流程。
